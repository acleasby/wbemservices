<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE>WBEMServices Unix mofcomp</TITLE>
	<STYLE>
	<!--
		.stderr { color: #FF0000 }
		.stdout { color: #0000FF }
		code, pre { background-color: #EEEEEE }
	-->
	</STYLE>
</HEAD>
<BODY>
<H1>How to Run MOFCOMP on Unix</H1>
<P>Last Updated 09/26/03</P>

<P><code>mofcomp</code>
is a script that adds the CIM classes defined in a MOF file to the
CIM Repository while the CIMOM is running.
<UL>
	<LI>First start the <code>CIMOM</code> by following the directions 
    found <A HREF="UnixHowToRun.html">here</A>.</LI>
	<LI>Go to the directory containing the WBEM Services executables.
	<UL>
	    <LI>If you built the WBEM Services executables in <code>/files/open</code>, go
	     to directory <code>/files/open/dist/wbemservices/bin</code>.</LI>
	    <LI>If you downloaded or copied the WBEM Services executables into
		 <code>/wbemservices</code>, go to directory <code>/wbemservices/bin</code>.</LI>
	</UL>
	
	<B>NOTE</B>: In the example shown below, <code>TeacherStudent.mof</code>
	is found in the <code>examples/provider/tsa</code> subdirectory</LI>
	<LI>Run <code>sh mofcomp.sh</code>. You will see the following:
	<PRE> wbem% cd /files/open/dist/wbemservices/bin
 wbem% sh mofcomp.sh
<span class="stderr">Usage: sh mofcomp.sh user passwd mof_file</span>
 wbem% sh mofcomp.sh root root_passwd /files/open/dist/wbemservices/examples/provider/tsa/TeacherStudent.mof
<span class="stdout">*********************************************************
Adding MOF definitions to CIM Repository
*********************************************************
/usr/java/bin/java -classpath .:/files/open/dist/wbemservices/bin/mofcomp.jar:/files/open/dist/wbemservices/cimom/lib/cimom.jar:/files/open/dist/wbemservices/lib/wbem.jar:/files/open/dist/wbemservices/cimom/lib/cimrepository.jar org.wbemservices.wbem.compiler.mofc.CIM_Mofc -v -u root -p root_passwd /files/open/dist/wbemservices/examples/provider/tsa/TeacherStudent.mof
Adding class Ex_Teacher
Adding class Ex_Student
Adding class Ex_TeacherStudent
Compilation succeeded.</span></PRE>
	</LI>
	<LI>The	Ex_Teacher, Ex_Student and Ex_TeacherStudent classes defined in
	<code>/files/open/dist/wbemservices/examples/provider/tsa/TeacherStudent.mof</code>
	have now been added to the CIM Repository. <B>NOTE:</B> If
	you rerun the example without first deleting the class definitions
	from the CIM Repository, you will see <code>CIM_ERROR_ALREADY_EXISTS</code>
	errors.</LI>
</UL>
</P>
</BODY>
</HTML>